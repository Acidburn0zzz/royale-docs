---
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
# 
# http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

layout: docpage
title: Jewel Theme Creation
---

# Jewel Theme Creation

How to make a new theme for Jewel

Jewel is a component set designed with change of appearance in mind. Jewel comes with a series of pre-designed themes so you can use it right away without having to create your own theme. You can learn more about the existing themes [here](component-sets/jewel/jewel-themes.html). The Jewel themes that come with Apache Royale define 12 colors, dark and light, flat / no-flat visuals. However, you may want a personalized look, and you can either adapt one of the existing themes or create one from scratch.

## Theme Basics

Themes are a combination of files that define styles in [Cascading Style Sheets (CSS)](https://en.wikipedia.org/wiki/Cascading_Style_Sheets){:target='_blank'} and other assets like images (JPG, PNG, SVG,...). In Jewel we use [SASS](https://sass-lang.com){:target='_blank'} to define the CSS style rules since is a preprocessor scripting language that is interpreted or compiled into CSS.

> You can create your own theme without the need of SASS, since is not obligatory, but we strongly recommend using it for the same reason we use AS3 instead of plain JavaScript.

One of the advantages of using SASS is that we can organize style definitions by separating styles into files. In Jewel we use a `.sass` file per component so we can easily find all the definitions of the style's components.

## Generating default.css

The `default.css` file is the resuling CSS file that holds all CSS definitions for a Jewel theme. This file is generated by the SASS compiler. When a library with styles in it is compiled we use SASS to generate the `src/main/resuorces/default.css` file as part of the build process.

> SASS generation is only set up in the Maven build, not in the ANT build. Apache Royale generates all `default.css` files in the SDK and makes them available to users using ANT, other build tools or IDEs. In the future we expect contributors to add SASS generation for ANT.

## Jewel Library

Here you'll find the [ActionScript](welcome/features/as3.html) classes that define each component and support class files components need to work properly. You'll find a `sass` folder with a `.sass` file for each component which holds all _structural_ definitions. Those definitions can be normal _CSS rules_ or _royale bead definition rules_.

You'll never find a style rule in the Jewel library that define _colors, lines, fonts, or shapes_ (the theme we locate in the __theme library__ handles these values). We'll find only the CSS rules needed to generate each jewel component visual structure (i.e: display, position, z-index, overflow,...), and the default ActionScript bead classes that ship with a concrete component per platform (i.e: BeadView, BeadModel, BeadController, BeadLayout,...).

> Apache Royale uses CSS through all the framwework to link [beads to the component's strand](welcome/features/strands-and-beads.html) so components define the default composition of beads via CSS.

## Jewel Theme Library

This library is like a __master theme__ where _colors, fonts, icons or shapes_ are defined, and is the library which generates Jewel theme variants, thanks to SASS preprocessing power. Each Jewel theme in Apache Royale uses the definitions in this library and [just changes a few variables to generate the variants](component-sets/jewel/jewel-theme-creation.html#theme-sass-file).

## Primary, Secondary and Emphasized colors

Since Jewel themes support three diferent colors (__Primary__, __Secondary__ and __Emphasized__),  the Jewel Theme Library folder structure is:

* __Primary__ color: `sass/components-primary` for styles that use primary and default colors.
* __Secondary__ color: `sass/components-secondary` for styles that use secondary colors.
* __Emphasized__ color: `sass/components-empahsized` for styles that use emphasized colors.

`primary` is used by most of the components in Jewel, while only a few (i.e: Button, Badge or SnackBar) that need these variants use `secondary` and `emphasized`.

## Theme SASS file

`sass/_theme.sass` is the SASS file where we can modify Jewel themes. It's a very simple configuration file with variables that SASS uses to generate a `default.css` file. This is essentialy how each of the Jewel themes that come with Apache Royale are defined.

For example, by default, we can find:

```sass
//Theme variables (Flat/No Flat - Dark/Light - Primary/Secondary/Emphasized Color
$flat: false
$dark: false
$primary-color: $blue
$secondary-color: $topaz
$emphasized-color: $emerald
```

so this `_theme.sass` file will create a Jewel theme variant that will look _no-flat_ and _light_, with _blue as primary color_, _topaz as secondary color_ and _emerald as emphasized color_.

## Jewel Theme Summary

__Jewel library__ has defintions that normally users does not need to change, while __Jewel Theme library__ is like a __master theme__ for all royale jewel themes and a good starting point to create a new user defined jewel theme or just modify one of the ones that comes with the royale distribution.

> A user should just need to duplicate the __Jewel Theme Library__ to start modifing each style per jewel component to create a new custom jewel theme.

## Looking to a concrete jewel component as an example

Lets take [Jewel Alert](component-sets/jewel/jewel-alert.html) component as an example to help us to visualize the different files that compose this concrete component:

In __Jewel library__ you can find:

* [org.apache.royale.jewel.Alert](https://royale.apache.org/asdoc/index.html#!org.apache.royale.jewel/Alert){:target='_blank'}: This is the main __Alert__ component file
* `sass/components/_alert.sass`: This is the main __Alert__ SASS definition that holds all structural CSS rules and the default beads for Alert. The beads defined here for the __javascript platform__ are:

```sass 
j|Alert
    IBeadLayout: ClassReference("org.apache.royale.jewel.beads.layouts.NullLayout")
    IBeadModel: ClassReference("org.apache.royale.jewel.beads.models.AlertModel")
    IBeadController: ClassReference("org.apache.royale.jewel.beads.controllers.AlertController")
    IBeadView:  ClassReference("org.apache.royale.jewel.beads.views.AlertView")
```

Regarding the CSS selectors for Alert: The main `.as` file (in this case `Alert.as`) will assign a css selector to the `typeNames` variable:

```as3
    typeNames = "jewel alert";
```

In the `sass` file you'll find the corresponding CSS selector

```sass
    .jewel.alert
```

and nested in that selector you'll find the corresponding tree of rules and selectors for that component.

So __Alert__ is composed by four Actionscript files and one `.sass` files that wire the component with its beads and setup a set of CSS rules to give a concrete CSS structrure, but does not define colors, gradients, shapes or icons for Alert. All of this will be found in the theme.

In __Jewel Theme library__ you can find:

* `sass/components-primary/_alert.sass`: This is the main __Alert__ SASS theme definition that holds all theme CSS rules. Here you can find colors, gradients, line styles and other visual things that will affect how the __Alert__ component is presented to the user. All those styles will be found inside a `.jewel.alert` CSS selector.

In this case, `Alert` component doesn't define any `secondary` or `emphasized` color.
